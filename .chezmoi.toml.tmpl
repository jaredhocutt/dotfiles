{{- $machineTypeChoices := list "personal" "work" -}}
{{- $machineType := promptChoiceOnce . "machineType" "Machine Type" $machineTypeChoices -}}
{{- $email := promptStringOnce . "email" "Email Address" -}}
{{- $box_name := promptStringOnce . "box_name" "Box Name" -}}

[data]
    machineType = {{ machineType | quote }}
    email = {{ $email | quote }}
    box_name = {{ $box_name | quote }}

[merge]
    command = "bash"
    args = [
        "-c",
        "cp {{ "{{" }} .Target | quote {{ "}}" }} {{ "{{" }} printf \"%s.base\" .Target | quote {{ "}}" }} && code --new-window --wait --merge {{ "{{" }} .Destination | quote {{ "}}" }} {{ "{{" }} .Target | quote {{ "}}" }} {{ "{{" }} printf \"%s.base\" .Target | quote {{ "}}" }} {{ "{{" }} .Source | quote {{ "}}" }}",
    ]

[hooks.read-source-state.pre]
    command = ".local/share/chezmoi/.install-password-manager.sh"
